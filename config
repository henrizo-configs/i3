set $mod Mod4
#set $mod Mod1

# set wallpaper
exec --no-startup-id feh --bg-fill "/mnt/myStuff/wallpapers/barquinho.jpg"
# run conky at startup and move it to status workspace
exec --no-startup-id conky
for_window [class="Conky"] move container to workspace 10:<i><span foreground="#FF91F9">status</span></i>
# run compton for trasparency
exec --no-startup-id compton
# run mpd
exec --no-startup-id "mpd ~/.mpd/mpd.conf"

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:mono 8

# hide borders on the edges of screen
hide_edge_borders both

# remove title bars
for_window [class="^.*"] border pixel 0

# color setup
#class         border  bg      text    indicator
client.focused #e8911f #e8911f #212121 #e8911f

# global gaps
gaps inner 5
gaps outer 2

# pressing mod+x (where x is the workspace num)
# will return to the previous workspace
workspace_auto_back_and_forth yes

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec i3-sensible-terminal

# change keyboard layout
mode "kbdLayoutChange" {
     bindsym b exec setxkbmap -layout br; mode "default"
     bindsym d exec setxkbmap -layout de; mode "default"
     bindsym e exec setxkbmap -layout us; mode "default"

     bindsym Escape mode "default"
}

bindsym $mod+Shift+b mode "kbdLayoutChange"


# kill focused window
bindsym $mod+Shift+q kill

# start rofi
bindsym $mod+x exec rofi -show drun

# change focus
bindsym $mod+a focus left
bindsym $mod+s focus down
bindsym $mod+w focus up
bindsym $mod+d focus right

# move focused window
bindsym $mod+Shift+a move left
bindsym $mod+Shift+s move down
bindsym $mod+Shift+w move up
bindsym $mod+Shift+d move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+b layout stacking
bindsym $mod+n layout tabbed
bindsym $mod+m layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+p focus parent

# scratchpad
# move current window to scratchpad
bindsym $mod+minus                               move scratchpad
# move all windows in current workspace to scratchpad
bindsym $mod+Shift+minus [workspace=__focused__] move scratchpad
# show scratchpad
bindsym $mod+plus scratchpad show
# kill all windows in scratchpad
bindsym $mod+Shift+x     [workspace=__i3_scratch] kill

# switch to workspace
bindsym $mod+1 workspace  1:<span foreground="#00b4d8"></span> 
bindsym $mod+2 workspace  2:<span foreground="#00b4d8"></span>
bindsym $mod+3 workspace  3:<span foreground="#00b4d8"></span>    
bindsym $mod+4 workspace  4:<span foreground="#00b4d8"></span>    
bindsym $mod+5 workspace  5:<span foreground="#00b4d8"></span>    
bindsym $mod+6 workspace  6
bindsym $mod+7 workspace  7
bindsym $mod+8 workspace  8
bindsym $mod+9 workspace  9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace  1:<span foreground="#00b4d8"></span> 
bindsym $mod+Shift+2 move container to workspace  2:<span foreground="#00b4d8"></span>
bindsym $mod+Shift+3 move container to workspace  3:<span foreground="#00b4d8"></span     
bindsym $mod+Shift+4 move container to workspace  4:<span foreground="#00b4d8"></span>    
bindsym $mod+Shift+5 move container to workspace  5:<span foreground="#00b4d8"></span>    
bindsym $mod+Shift+6 move container to workspace  6
bindsym $mod+Shift+7 move container to workspace  7
bindsym $mod+Shift+8 move container to workspace  8
bindsym $mod+Shift+9 move container to workspace  9
bindsym $mod+Shift+0 move container to workspace 10:

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# exit i3 (logs you out of your X session)
mode "exit" {
     bindsym y      exec "i3 exit";
     bindsym Escape exec "exec kill i3-nagbar", mode "default";
}

bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Close session?'  \
                           -b Yes 'i3 exit'" mode "exit"


# multimedia binds
bindsym XF86PowerOff exec "i3-nagbar -t warning -m 'Close session?'  \
                           -b Yes 'i3 exit'", mode "exit"
# audio volume control
# multimedia keyboard
bindsym XF86AudioRaiseVolume exec amixer -q set Master 4%+ unmute
bindsym XF86AudioLowerVolume exec amixer -q set Master 4%- unmute
bindsym XF86AudioMute        exec amixer -q -D pulse set Master toggle
# non-multimedia keyboard
bindsym $mod+Up      exec amixer -q set Master 4%+ unmute
bindsym $mod+Down    exec amixer -q set Master 4%- unmute
bindsym $mod+Shift+m exec amixer -q -D pulse set Master toggle

# brightness control
# multimedia keyboard
bindsym XF86MonBrightnessUp   exec xbacklight -inc 20
bindsym XF86MonBrightnessDown exec xbacklight -dec 20
bindsym XF86Launch1           exec xset dpms force off

# non-multimedia keyboard
bindsym $mod+Right   exec xbacklight -inc 20
bindsym $mod+Left    exec xbacklight -dec 20
bindsym $mod+Shift+o exec xset dpms force off

# web
bindsym XF86HomePage exec chromium
bindsym XF86Mail     exec chromium mail.google.com
bindsym XF86Search   exec chromium google.com
# file explorer
bindsym XF86Explorer exec terminator -e ranger
# media
bindsym XF86Tools exec terminator -e ncmpcpp
# ghci
bindsym XF86Calculator exec terminator -e ghci

# resize window
mode "resize" {
		 bindsym a resize shrink width  5 px or 5 ppt
		 bindsym s resize grow   height 5 px or 5 ppt
		 bindsym w resize shrink height 5 px or 5 ppt
		 bindsym d resize grow   width  5 px or 5 ppt
	   	
		 # back to normal: Enter or Escape
		 bindsym Return mode "default"
		 bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# i3 bar config
bar {
     # main settings
     status_command "sh ~/.config/i3/myi3bar.sh"
     i3bar_command  "i3bar -t"
     id             bar-0
     position       top
     font           pango:Arial 16, FontAwesome 9
     
     # tray settings
     tray_padding   1
     height         20

     # visuals
     strip_workspace_numbers yes
     separator_symbol        " / "
     
     colors {
                            #RRGGBBAA
         background         #000000bb
         focused_workspace  #999999    #091116    #ffffff
         active_workspace   #333333    #5f676a    #ffffff
         inactive_workspace #333333    #222222    #888888
         urgent_workspace   #2f343a    #900000    #ffffff
         binding_mode       #2f343a    #900000    #ffffff
     }
}
